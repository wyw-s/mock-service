import{C as b}from"./CodeMirror.b7ed99dc.js";import{g as x,e as y,u as j,b as I}from"./index.559accac.js";import{_ as B,E as u,r as n,o as c,d,w as s,b as p,t as C,a as r,c as L,p as M,F as w,e as U}from"./index.b44ea885.js";const N={name:"InterfaceName",components:{CodeMirror:b},data(){return{form:{},projectList:[],mockId:"",title:"\u65B0\u589E"}},mounted(){const{query:{mockId:e}}=this.$route;e&&(this.mockId=e,this.title="\u4FEE\u6539",this.getMockDetail(e)),this.getProjectList()},methods:{goBack(){this.$router.back()},getProjectList(){x().then(e=>{e.success&&(this.projectList=e.data)})},getMockDetail(e){y(e).then(o=>{o.success&&(this.form=o.data)})},onSubmit(){this.mockId?j(this.mockId,this.form).then(e=>{e.success&&(u({message:"\u4FEE\u6539\u6210\u529F",type:"success"}),this.$router.back())}):I(this.form).then(e=>{e.success&&(u({message:"\u521B\u5EFA\u6210\u529F",type:"success"}),this.$router.back())})}}},v={style:{height:"400px",width:"100%"}};function D(e,o,E,P,t,i){const f=n("el-button"),_=n("el-option"),k=n("el-select"),a=n("el-form-item"),m=n("el-input"),h=n("CodeMirror"),g=n("el-form"),V=n("el-page-header");return c(),d(V,{title:"\u8FD4\u56DE",onBack:i.goBack},{content:s(()=>[p(C(t.title)+"\u63A5\u53E3 ",1)]),extra:s(()=>[r(f,{type:"primary",onClick:i.onSubmit},{default:s(()=>[p("\u786E\u5B9A")]),_:1},8,["onClick"])]),default:s(()=>[r(g,{model:t.form,"label-width":"120px",style:{"margin-top":"16px"}},{default:s(()=>[r(a,{label:"\u9879\u76EE\u540D\u79F0"},{default:s(()=>[r(k,{modelValue:t.form.projectId,"onUpdate:modelValue":o[0]||(o[0]=l=>t.form.projectId=l),placeholder:"\u9879\u76EE\u540D\u79F0"},{default:s(()=>[(c(!0),L(w,null,M(t.projectList,l=>(c(),d(_,{key:l.id,label:l.projectName,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(a,{label:"\u63A5\u53E3\u540D\u79F0"},{default:s(()=>[r(m,{modelValue:t.form.name,"onUpdate:modelValue":o[1]||(o[1]=l=>t.form.name=l),placeholder:"\u63A5\u53E3\u540D\u79F0"},null,8,["modelValue"])]),_:1}),r(a,{label:"\u63A5\u53E3URL"},{default:s(()=>[r(m,{modelValue:t.form.url,"onUpdate:modelValue":o[2]||(o[2]=l=>t.form.url=l),placeholder:"\u8BF7\u6C42\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),r(a,{label:"\u54CD\u5E94\u4F53"},{default:s(()=>[U("div",v,[r(h,{modelValue:t.form.response,"onUpdate:modelValue":o[3]||(o[3]=l=>t.form.response=l)},null,8,["modelValue"])])]),_:1}),r(a,{label:"\u5907\u6CE8"},{default:s(()=>[r(m,{modelValue:t.form.remark,"onUpdate:modelValue":o[4]||(o[4]=l=>t.form.remark=l),autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["onBack"])}const q=B(N,[["render",D]]);export{q as default};
